<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
        <title>Projeto Memória Militar</title>
        <link rel="shortcut icon" href="ico/favicon.ico">
        <!-- CSS -->
        <link href="css/main.css?vs=01" rel="stylesheet">
        <link href="css/preloader.css?vs=01" rel="stylesheet">
	<style>#marca-logo{height:6em;right:5px;line-height:3;position:fixed;bottom:1em;}</style>
        <!-- JS -->
        <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
        <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
        <script src="https://raw.githack.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
        <script src="https://raw.githack.com/AR-js-org/studio-backend/master/src/modules/marker/tools/gesture-detector.js"></script>
        <script src="https://raw.githack.com/AR-js-org/studio-backend/master/src/modules/marker/tools/gesture-handler.js"></script>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    </head>
    <body style="margin: 0; overflow: hidden;font-family: monospace;">
        <!-- preloader -->
        <div id="preloader">
            <div class="loder-box">
                <div class='loader'></br>Carregando...</div>
            </div>
        </div>
        <!--end preloader -->
        <a-scene
            vr-mode-ui="enabled: false;"
            loading-screen="enabled: false;"
            renderer="logarithmicDepthBuffer: true;"
            arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false;"
            id="scene"
            embedded
            gesture-detector
        >
        <!-- Lista de assets -->
            <a-assets>
                <a-asset-item id="animated-asset-01" src="assets/01_gltf2_ANDRÉ_VIDAL_DE_NEGREIROS.gltf?vs=01"></a-asset-item>
                <a-asset-item id="animated-asset-02" src="assets/01_gltf2_ANTONIO_DIAS_CARDOSO.gltf?vs=01" ></a-asset-item>
                <a-asset-item id="animated-asset-03" src="assets/01_gltf2_DOM_PEDRO_II.gltf?vs=01" ></a-asset-item>
		<a-asset-item id="animated-asset-04" src="assets/01_gltf2_FELIPE_CAMARÃO.gltf?vs=01" ></a-asset-item>
		<a-asset-item id="animated-asset-05" src="assets/01_gltf2_HENRIQUE_DIAS.gltf?vs=01" ></a-asset-item>
		<a-asset-item id="animated-asset-06" src="assets/01_gltf2_MATIAS_DE_ALBUQUERQUE.gltf?vs=01" ></a-asset-item>
		<a-asset-item id="animated-asset-07" src="assets/01_gltf2_SOLDADO_HOLANDÊS.glb?vs=01" ></a-asset-item>
		<a-asset-item id="animated-asset-08" src="assets/01_gltf2_SOLDADO_LUSO_BRASILEIRO.gltf?vs=01" ></a-asset-item>
                <audio id="sound-01" src="assets/02_mp3_ANDRÉ_VIDAL_DE_NEGREIROS.mp3?vs=01" preload="auto"></audio>
                <audio id="sound-02" src="assets/02_mp3_ANTONIO_DIAS_CARDOSO.mp3?vs=01" preload="auto"></audio>
                <audio id="sound-03" src="assets/02_mp3_DOM_PEDRO_II.mp3?vs=01" preload="auto"></audio>
		<audio id="sound-04" src="assets/02_mp3_FELIPE_CAMARÃO.mp3?vs=01" preload="auto"></audio>
		<audio id="sound-05" src="assets/02_mp3_HENRIQUE_DIAS.mp3?vs=01" preload="auto"></audio>
		<audio id="sound-06" src="assets/02_mp3_MATIAS_DE_ALBUQUERQUE.mp3?vs=01" preload="auto"></audio>
		<audio id="sound-07" src="assets/02_mp3_SOLDADO_HOLANDÊS.mp3?vs=01" preload="auto"></audio>
		<audio id="sound-08" src="assets/02_mp3_SOLDADO_LUSO_BRASILEIRO.mp3?vs=01" preload="auto"></audio>
            </a-assets>
            <!-- Fim Lista de assets -->

            <!-- Lista de marcadores -->
            <a-marker
                id="animated-marker-01"
                type="pattern"
                preset="custom"
                url="assets/03_marker_VIDAL_NEGREIROS.patt?vs=02"
                raycaster="objects: .clickable"
                emitevents="true"
                cursor="fuse: false; rayOrigin: mouse;"
                soundhandler
            >
                <a-entity
                    sound="src: #sound-01" autoplay="false"
                    position="0 0.10 0"
                    rotation="-20 0 0"
                    heigth="3"
                    width="1.5"
                    id="bowser-model"
                    scale="1 1 1"
                    animation-mixer="loop: repeat"
                    gltf-model="#animated-asset-01"
                    class="clickable"
                    gesture-handler
                ></a-entity>
            </a-marker>
            <a-marker
                id="animated-marker-02"
                type="pattern"
                preset="custom"
                url="assets/03_marker_ANTONIO_DIAS_CARDOSO.patt?vs=02"
                raycaster="objects: .clickable"
                emitevents="true"
                cursor="fuse: false; rayOrigin: mouse;"
                soundhandler
            >
                <a-entity
                    sound="src: #sound-02" autoplay="false"
                    position="0 0 0"
                    rotation="-20 0 0"
                    heigth="3"
                    width="1.5"
                    id="bowser-model"
                    scale="1 1 1"
                    animation-mixer="loop: repeat"
                    gltf-model="#animated-asset-02"
                    class="clickable"
                    gesture-handler
                ></a-entity>
            </a-marker>
            <a-marker
                id="animated-marker-03"
                type="pattern"
                preset="custom"
                url="assets/03_marker_DOM_PEDRO_II.patt?vs=02"
                raycaster="objects: .clickable"
                emitevents="true"
                cursor="fuse: false; rayOrigin: mouse;"
                soundhandler
            >
                <a-entity
                    sound="src: #sound-03" autoplay="false"
                    position="0 0 0"
                    rotation="-20 0 0"
                    heigth="3"
                    width="1.5"
                    id="bowser-model"
                    scale="1 1 1"
                    animation-mixer="loop: repeat"
                    gltf-model="#animated-asset-03"
                    class="clickable"
                    gesture-handler
                ></a-entity>
            </a-marker>
		
			<a-marker
                id="animated-marker-04"
                type="pattern"
                preset="custom"
                url="assets/03_marker_FELIPE_CAMARAO.patt?vs=02"
                raycaster="objects: .clickable"
                emitevents="true"
                cursor="fuse: false; rayOrigin: mouse;"
                soundhandler
            >
                <a-entity
                    sound="src: #sound-04" autoplay="false"
                    position="0 0 0"
                    rotation="-20 0 0"
                    heigth="3"
                    width="1.5"
                    id="bowser-model"
                    scale="1 1 1"
                    animation-mixer="loop: repeat"
                    gltf-model="#animated-asset-04"
                    class="clickable"
                    gesture-handler
                ></a-entity>
            </a-marker>
			
			<a-marker
                id="animated-marker-05"
                type="pattern"
                preset="custom"
                url="assets/03_marker_HENRIQUE_DIAS.patt?vs=02"
                raycaster="objects: .clickable"
                emitevents="true"
                cursor="fuse: false; rayOrigin: mouse;"
                soundhandler
            >
                <a-entity
                    sound="src: #sound-05" autoplay="false"
                    position="0 0 0"
                    rotation="-20 0 0"
                    heigth="3"
                    width="1.5"
                    id="bowser-model"
                    scale="1 1 1"
                    animation-mixer="loop: repeat"
                    gltf-model="#animated-asset-05"
                    class="clickable"
                    gesture-handler
                ></a-entity>
            </a-marker>
			
			<a-marker
                id="animated-marker-06"
                type="pattern"
                preset="custom"
                url="assets/03_marker_MATIAS_ALBUQUERQUE.patt?vs=03"
                raycaster="objects: .clickable"
                emitevents="true"
                cursor="fuse: false; rayOrigin: mouse;"
                soundhandler
            >
                <a-entity
                    sound="src: #sound-06" autoplay="false"
                    position="0 0 0"
                    rotation="-20 0 0"
                    heigth="3"
                    width="1.5"
                    id="bowser-model"
                    scale="1 1 1"
                    animation-mixer="loop: repeat"
                    gltf-model="#animated-asset-06"
                    class="clickable"
                    gesture-handler
                ></a-entity>
            </a-marker>
			
			<a-marker
                id="animated-marker-07"
                type="pattern"
                preset="custom"
                url="assets/03_marker_SOLDADO_HOLANDES.patt?vs=02"
                raycaster="objects: .clickable"
                emitevents="true"
                cursor="fuse: false; rayOrigin: mouse;"
                soundhandler
            >
                <a-entity
                    sound="src: #sound-07" autoplay="false"
                    position="0 0 0"
                    rotation="-20 0 0"
                    heigth="3"
                    width="1.5"
                    id="bowser-model"
                    scale="1 1 1"
                    animation-mixer="loop: repeat"
                    gltf-model="#animated-asset-07"
                    class="clickable"
                    gesture-handler
                ></a-entity>
            </a-marker>
			
			<a-marker
                id="animated-marker-08"
                type="pattern"
                preset="custom"
                url="assets/03_marker_LUSO_BRASILEIRO.patt?vs=02"
                raycaster="objects: .clickable"
                emitevents="true"
                cursor="fuse: false; rayOrigin: mouse;"
                soundhandler
            >
                <a-entity
                    sound="src: #sound-08" autoplay="false"
                    position="0 0 0"
                    rotation="-20 0 0"
                    heigth="3"
                    width="1.5"
                    id="bowser-model"
                    scale="1 1 1"
                    animation-mixer="loop: repeat"
                    gltf-model="#animated-asset-08"
                    class="clickable"
                    gesture-handler
                ></a-entity>
            </a-marker>
			
            <!-- Fim Lista de marcadores -->
            <a-entity camera></a-entity>
        </a-scene>
        <div id="helpMenu" data-toggle="modal" data-target="#popup">?</div>
	<div id="marca-logo" ><img src="images/logo.png" style="width:200px;"></div>
        <div id="language">	
            <a class="language-selector active" data-lang="pt-BR">
                <img src="images/pt-BR.png" alt="Português">
            </a>
            <a class="language-selector" data-lang="en-US">
                <img src="images/en-US.png" alt="English">
            </a>
        </div>
        <div id="popup" class="modal fade popup" role="dialog">
            <div class="wrapper">
                <h2 class="popup-title">Instruções</h2>
                <div class="popup-content">
                    <p>Seja bem vindo(a)!
                        Use a câmera do Celular para interagir com nossos personagens, apontando-a para MARCADORES, espalhados pelo salão.
                    </p>
                </div>
                <div class="extra-content"></div>
                <a class="close" data-dismiss="modal" id="closePopup"> X Fechar</a>
            </div>
        </div>
        <div id="popupnext" class="modal fade popup" role="dialog">
            <div class="wrapper">
                <h2 class="popup-title">Saiba mais!</h2>
                <div class="popup-content">
                	<h3 id="titulo"></h3>    
			<p id="sobre"></p>
			<p id="saibamais"></p>
                </div>
                <a class="close" data-dismiss="modal" id="closePopuptext"> X Fechar</a>
            </div>
        </div>
        <script>
            AFRAME.registerComponent('soundhandler', {
                tick: function () {
			
                    var entity = document.querySelector('[sound]');
			
                    if (document.getElementById('animated-marker-01').object3D.visible == true) {
                        if(!elem){
                            	elem = true;
                            	entity = document.getElementById('animated-marker-01').querySelector('[sound]');
                            	soundComponent = entity.components.sound;
                            	soundComponent.playSound();
                            	setTimeout(function(){
				$("#titulo").html("André Vidal de Negreiros");
				$("#sobre").html("Foi um militar e governador colonial luso-brasileiro, conhecido principalmente por ter sido um dos líderes da Insurreição Pernambucana, contra a colonização holandesa no Brasil.");	
                               	$("#saibamais").html("se quiser saber mais, <a href='https://pt.wikipedia.org/wiki/Andr%C3%A9_Vidal_de_Negreiros'>clique aqui.</a>");
				$('#popupnext').modal('show');
                            }, 54000);
			    clearTimeout();
                        }
                    } else if(document.getElementById('animated-marker-02').object3D.visible == true) {
                        if(!elem){
                            	elem = true;
                           	entity = document.getElementById('animated-marker-02').querySelector('[sound]');
                            	soundComponent = entity.components.sound;
                            	soundComponent.playSound();
                            	setTimeout(function(){
				$("#titulo").html("António Dias Cardoso");
				$("#sobre").html("Foi um dos principais líderes da Insurreição Pernambucana, movimento responsável pela expulsão dos neerlandeses do Nordeste do Brasil. Conhecedor das técnicas de combate dos indígenas, foi apelidado de 'mestre das emboscadas'.");	
				$("#saibamais").html("se quiser saber mais, <a href='https://pt.wikipedia.org/wiki/Ant%C3%B3nio_Dias_Cardoso'>clique aqui.</a>");
				$('#popupnext').modal('show');
                            }, 67200);
			    clearTimeout();
                        }
                    }else if(document.getElementById('animated-marker-03').object3D.visible == true) {
                        if(!elem){
                            elem = true;
                            entity = document.getElementById('animated-marker-03').querySelector('[sound]');
                            soundComponent = entity.components.sound;
                            soundComponent.playSound();
                            setTimeout(function(){
			    	$("#titulo").html("Dom Pedro II");
				$("#sobre").html("Foi o segundo e último monarca do Império do Brasil, tendo reinado o país durante um período de 58 anos.");	
				$("#saibamais").html("se quiser saber mais, <a href='https://pt.wikipedia.org/wiki/Pedro_II_do_Brasil'>clique aqui.</a>");
				$('#popupnext').modal('show');
                            }, 97000);
			    clearTimeout();
                        }
                    }else if(document.getElementById('animated-marker-04').object3D.visible == true) {
                        if(!elem){
                            elem = true;
                            entity = document.getElementById('animated-marker-04').querySelector('[sound]');
                            soundComponent = entity.components.sound;
                            soundComponent.playSound();
                            setTimeout(function(){
				$("#titulo").html("Felipe Camarão");
				$("#sobre").html("Foi um militar de nacionalidade portuguesa e de naturalidade brasileira, a serviço do Império Português, tendo sido também um líder indígena. Chefe nativo dos índios potiguares, foi um dos heróis da Batalha dos Guararapes, episódio decisivo da Insurreição Pernambucana. Recebeu o título de 'Capitão-Mor de Todos os Índios do Brasil'.");	
				$("#saibamais").html("se quiser saber mais, <a href='https://pt.wikipedia.org/wiki/Filipe_Camar%C3%A3o'>clique aqui.</a>");
				$('#popupnext').modal('show');
                            }, 52000);
			   clearTimeout();
                        }
                    }else if(document.getElementById('animated-marker-05').object3D.visible == true) {
                        if(!elem){
                            elem = true;
                            entity = document.getElementById('animated-marker-05').querySelector('[sound]');
                            soundComponent = entity.components.sound;
                            soundComponent.playSound();
                            setTimeout(function(){
				$("#titulo").html("Henrique Dias");
				$("#sobre").html("Foi um militar nascido no Brasil colonial, filho de escravos africanos libertos. Foi um dos heróis da Batalha dos Guararapes, episódio decisivo da Insurreição Pernambucana (expulsão dos holandeses do Nordeste do Brasil).");	
				$("#saibamais").html("se quiser saber mais, <a href='https://pt.wikipedia.org/wiki/Henrique_Dias'>clique aqui.</a>");
				$('#popupnext').modal('show');
                            }, 49000);
			   clearTimeout();
                        }
                    }else if(document.getElementById('animated-marker-06').object3D.visible == true) {
                        if(!elem){
                            elem = true;
                            entity = document.getElementById('animated-marker-06').querySelector('[sound]');
                            soundComponent = entity.components.sound;
                            soundComponent.playSound();
                            setTimeout(function(){
				$("#titulo").html("Matias de Albuquerque");
				$("#sobre").html("Foi um administrador colonial e militar superior luso-brasileiro. Foi Governador da Capitania de Pernambuco.");	
				$("#saibamais").html("se quiser saber mais, <a href='https://pt.wikipedia.org/wiki/Matias_de_Albuquerque,_Conde_de_Alegrete'>clique aqui.</a>");
				$('#popupnext').modal('show');
                            }, 89000);
			    clearTimeout();
                        }
                    }else if(document.getElementById('animated-marker-07').object3D.visible == true) {
                        if(!elem){
                            elem = true;
                            entity = document.getElementById('animated-marker-07').querySelector('[sound]');
                            soundComponent = entity.components.sound;
                            soundComponent.playSound();
                            setTimeout(function(){
				$("#titulo").html("Soldado Holandês");
				$("#sobre").html("...");	
				$("#saibamais").html("se quiser saber mais, <a href='#'>clique aqui.</a>");
				$('#popupnext').modal('show');
                            }, 105000);
			    clearTimeout();
                        }
                    }else if(document.getElementById('animated-marker-08').object3D.visible == true) {
                        if(!elem){
                            elem = true;
                            entity = document.getElementById('animated-marker-08').querySelector('[sound]');
                            soundComponent = entity.components.sound;
                            soundComponent.playSound();
                            setTimeout(function(){
				$("#titulo").html("Soldado Luso Brasileiro");
				$("#sobre").html("...");	
				$("#saibamais").html("se quiser saber mais, <a href='#'>clique aqui.</a>");
				$('#popupnext').modal('show');
                            }, 42000);
			    clearTimeout();
                        }
                    } else {
			entity.components.sound.pauseSound();
                    }
                }
            });
        </script>
        <script>	
            $(document).ready(function() {
               $('#popup').modal('show');
            });
	   //$('#closePopuptext').click(function() {
		//alert("Fechou!");    
               //$('#popupnext').modal('hide'); 
            //});
        </script>
        <script>
            /* ========================================================================= */
            /*	Preloader
            /* ========================================================================= */

            $(document).ready(function() {

                setTimeout(function(){$("#preloader").fadeOut("slow")}, 1000);

            });
        </script>
    </body>
</html>
